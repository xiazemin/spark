# chapter15

情形一：已经有一个hive连接在访问Derby创建的metastore\_db文件夹，由于Derby数据库自身的缺点--仅支持一个链接对其进行访问，所以这时，如果再有一个终端调用hive，就有第二个链接访问Derby数据库了，就会抛出这个异常。



解决方法很简单。用mysql作为元数据仓库，mysql支持多链接访问，这个问题就不存在了。



-------------------------------------------------------------------------------------------------------------------------------------



情形二：突然离线，易造成hive没能来得及删除自动创建的metastore\_db文件夹\(~home/bin/metastore\_db\),这时再次用hive命令进入，则会产生如下报错。



解决这一问题很简单。将metastore\_db文件夹改名或者干脆删除，然后重新运行hive命令启动即可。



\[root@localhost bin\]\# mv metastore\_db/ metastore\_db1/



启动hive的时候自动新建这个目录，所以删除亦可。



在完全配置好hive之后，该bug自动消失。



